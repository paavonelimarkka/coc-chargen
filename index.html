<html>
<head>
  <title>CoC random character creator</title>
</head>
<body>
  <h1>Call of Cthulhu random character creator</h1>
  <table>
    <tr>
      <td>STR:</td>
      <td id="str"></td>
      <td>SIZ:</td>
      <td id="siz"></td>
      <td>DEX:</td>
      <td id="dex"></td>
      <td>APP:</td>
      <td id="app"></td>
      <td>CON:</td>
      <td id="con"></td>
      <td>INT:</td>
      <td id="int"></td>
      <td>POW:</td>
      <td id="pow"></td>
      <td>EDU:</td>
      <td id="edu"></td>
      <td>LUCK:</td>
      <td id="lck"></td>
      <td>HP:</td>
      <td id="hp"></td>
      <td>DB:</td>
      <td id="db"></td>
      <td>MOV:</td>
      <td id="mov"></td>
      <td>AGE:</td>
      <td id="age"></td>
    </tr>
  </table>
</body>
<script>

// Roll function
function roll(times,dice) {
  var result = 0;
  for (var i=0; i<times; i++) {
    result += Math.floor(Math.random() * dice + 1);
  }
  return result;
};

// Variables for size, con, dex, ...
var str;
var siz;
var dex;
var app;
var con;
var int;
var pow;
var edu;
var lck;
var hp;
var db;
var mov;
var age;

// Create-function for 7th edition character
function create7() {

  // Creating values for stat variables
  str = roll(3,6) * 5;
  siz = (roll(2,6) + 6) * 5;
  dex = roll(3,6) * 5;
  app = roll(3,6) * 5;
  con = roll(3,6) * 5;
  int = (roll(2,6) + 6) * 5;
  pow = roll(3,6) * 5;
  edu = roll(3,6) * 5;
  lck = (roll(2,6) + 6) * 5;
  hp = Math.floor((con + siz) / 10);

  // Get the damage bonus
  if (str + siz <= 64) {
    db = "-2";
  } else if (str + siz >= 65 && str + siz <= 84) {
    db = "-1";
  } else if (str + siz >= 85 && str + siz <= 124) {
    db = "None";
  } else if (str + siz >= 125 && str + siz <= 164) {
    db = "+1D4";
  } else {
    db = "+1D6";
  }

  // Get the movement rate
  if (dex < siz && str < siz) {
    mov = 7;
  } else if (dex > siz && str > siz) {
    mov = 9;
  } else {
    mov = 8;
  }

  // Get the age
  age = Math.round(15 + ( Math.random() * 75 ));

  // To do 

  // Placing stat variables in the table
  document.getElementById("str").innerHTML = str;
  document.getElementById("siz").innerHTML = siz;
  document.getElementById("dex").innerHTML = dex;
  document.getElementById("app").innerHTML = app;
  document.getElementById("con").innerHTML = con;
  document.getElementById("int").innerHTML = int;
  document.getElementById("pow").innerHTML = pow;
  document.getElementById("edu").innerHTML = edu;
  document.getElementById("lck").innerHTML = lck;
  document.getElementById("hp").innerHTML = hp;
  document.getElementById("db").innerHTML = db;
  document.getElementById("mov").innerHTML = mov;
  document.getElementById("age").innerHTML = age;
}

create7();

</script>
</html>
